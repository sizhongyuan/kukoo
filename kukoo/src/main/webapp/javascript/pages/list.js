var list = [

  {
    //项目列表页（1）
    code: "", //项目代码
    id: "2-1", //项目id
    name: "澳大利亚189独立技术移民", //项目名称
    desc: "澳大利亚Skilled Independent visa (subclass 189) (Points-tested) stream，俗称独立技术移民，不需要州担保、雇主以及亲属担保就可以申请。申请189签证成功后可以无限期居住在澳洲，申请人及其家人可以在这里作为永久居民去工作、学习、加入医疗保险、担保亲属、申请澳大利亚国籍等。，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介", //项目简介
    details: "项目详情", //项目详情
    country: "澳大利亚", //国家
    countryId: "2", //国家代码
    type: "技术移民", //类别
    typeId: "1", //类别
    timespan: 2, //处理周期
    timespanUnit: "年", //处理周期 单位
    cost: 7, //费用
    costUnit: "万元", //费用单位
    //澳洲技术移民的费用在人民币7万左右（三口之家，主申本科学历，副申交语言费，汇率按5.0计算的情况下）
  },
  {
    //项目列表页（2）
    code: "", //项目代码
    id: "2-2", //项目id
    name: "澳大利亚190州担保技术移民", //项目名称
    desc: "澳大利亚Skilled Nominated visa (subclass 190)，俗称州担保技术移民，获得某个州的提名函可以在EOI打分中获得5分加分，所以适合打分只有55分的申请人。至于能否申请到州担保，取决于申请人评估的职业是否在州担保的职业清单上以及是否符合州政府担保的其他特定要求（雅思、工作年限、工作Offer等）。申请190签证成功后可以无限期居住在澳洲，申请人及其家人可以在这里作为永久居民去工作、学习、加入医疗保险、担保亲属、申请澳大利亚国籍等。，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介", //项目简介
    details: "项目详情", //项目详情
    country: "澳大利亚", //国家
    countryId: "2", //国家代码
    type: "技术移民", //类别
    typeId: "1", //类别
    timespan: 2, //处理周期
    timespanUnit: "年", //处理周期 单位
    cost: 7, //费用
    costUnit: "万元", //费用单位
    //澳洲技术移民的费用在人民币7万左右（三口之家，主申本科学历，副申交语言费，汇率按5.0计算的情况下）
  },

  {
    //项目列表页（3）
    code: "", //项目代码
    id: "1-1", //项目id
    name: "新不伦瑞克省技术移民", //项目名称
    desc: "新不伦瑞克省提名项目 New Brunswick Provincial Nominee Program （简称 NBPNP）包含多个类别:NBEE技术类别、NB雇主担保类别、NB家庭担保类别、NB企业家类别。其中NBPNP的EE类别只对当前在NB工作及法语是第一语言的申请人开放。NB省提名批准后向加拿大联邦申请永居签证，通过EE在线申请，一般联邦审理周期6个月内签发签证。 ，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介", //项目简介
    details: "项目详情", //项目详情
    country: "加拿大", //国家
    countryId: "1", //国家代码
    type: "技术移民", //类别
    typeId: "1", //类别
    timespan: 2, //处理周期
    timespanUnit: "年", //处理周期 单位
    cost: 2.5, //费用
    costUnit: "万元", //费用单位
    //加拿大技术移民的费用在人民币2.5万左右（三口之家，主申本科学历，副申不做学历认证，汇率按5.0计算的情况下）

  },

  {
    //项目列表页（4）
    code: "", //项目代码
    id: "2-2", //项目id
    name: "新斯科舍省技术移民", //项目名称
    desc: "加拿大新斯科舍省移民提名项目 Nova Scotia Nominee Program ，简称 NSNP，加拿大 NSNP 里有EE下有两类，A类需要有雇主offer，随时可以申请；另一类是B类，属于紧缺职业类别，不需要雇主提供offer就可以申请，但需要抢配额。中国申请人一般选择B类别的技术移民，只要具备NS省需要的技能和经验就有机会获得该省的提名，提名批准后向加拿大联邦申请永居签证，一般联邦审理周期6个月内签发签证。加拿大宪法规定，移民事务由联邦政府和省政府共同管辖，省提名项目必须由联邦政府发放移民签证并最终成为加拿大永久居民。，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介", //项目简介
    details: "项目详情", //项目详情
    country: "加拿大", //国家
    countryId: "1", //国家代码
    type: "技术移民", //类别
    typeId: "1", //类别
    timespan: 2, //处理周期
    timespanUnit: "年", //处理周期 单位
    cost: 2.5, //费用
    costUnit: "万元", //费用单位）
    //加拿大技术移民的费用在人民币2.5万左右（三口之家，主申本科学历，副申不做学历认证，汇率按5.0计算的情况下
  },

  {
    //项目列表页（5）
    code: "", //项目代码
    id: "2-3", //项目id
    name: "安大略省技术移民", //项目名称
    desc: "加拿大安大略省省提名项目 Ontario Immigrant Nominee Program，简称 OINP。安省省提名包含多个类别：商业类，雇主类，非雇主类，中国申请人一般申请非雇主类，其中EE HCP技能优先类别（Human Capital Priorities Stream）是比较常见的一个类别。 HCP类别不限制申请人职业（Regulated职业除外），安省从EE系统筛选总分数达到400分的申请人，收到安省邀请后再提交申请。安省提名批准后向加拿大联邦申请永居签证，在线递交申请后一般联邦审理周期6个月内签发签证。加拿大宪法规定，移民事务由联邦政府和省政府共同管辖，省提名项目必须由联邦政府发放移民签证并最终成为加拿大永久居民。，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介", //项目简介
    details: "项目详情", //项目详情
    country: "加拿大", //国家
    countryId: "1", //国家代码
    type: "技术移民", //类别
    typeId: "1", //类别
    timespan: 2, //处理周期
    timespanUnit: "年", //处理周期 单位
    cost: 2.5, //费用
    costUnit: "万元", //费用单位
    //加拿大技术移民的费用在人民币2.5万左右（三口之家，主申本科学历，副申不做学历认证，汇率按5.0计算的情况下）
  }, {
    //项目列表页（6）
    code: "", //项目代码
    id: "2-4", //项目id
    name: "魁北克省技术移民", //项目名称
    desc: "加拿大魁北克技术移民的申请条件完全是魁省政府根据当地的实际情况和发展需要而定的，魁省有甄选权，签发CSQ Certificat de sélection du Québec (CSQ–Québec selection certificate)-魁北克移民甄选。魁北克常规技术移民Regular selection program for skilled workers就是通过申请人自身的技术和才能移民魁北克，只要申请人有一定的法语、英文能力及学历，且目前所从事的职业及专长是魁北克就业市场所需要的，即可以有资格申请。，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介", //项目简介
    details: "项目详情", //项目详情
    country: "加拿大", //国家
    countryId: "1", //国家代码
    type: "技术移民", //类别
    typeId: "1", //类别
    timespan: 4, //处理周期
    timespanUnit: "年", //处理周期 单位
    cost: 2.5, //费用
    costUnit: "万元", //费用单位
    //加拿大技术移民的费用在人民币2.5万左右（三口之家，主申本科学历，副申不做学历认证，汇率按5.0计算的情况下）

  }, {
    //项目列表页（7）
    code: "", //项目代码
    id: "2-5", //项目id
    name: "萨省技术移民", //项目名称
    desc: "加拿大萨省省提名项目 Saskatchewan Immigrant Nominee Program ，简称 SINP，加拿大 SINP里有EE类别和OID，紧缺职业列表是一样的，不需要雇主提供offer就可以申请，但两个类别对语言要求不同，EE类别对主申请的雅思最低要求CLB7，OID对雅思最低要求CLB4。EE类别申请提名批准后向加拿大联邦申请永居签证，通过在线申请，一般联邦审理周期6个月内签发签证；OID类别申请提名批准后向加拿大联邦申请永居签证，通过纸质申请，一般联邦审理周期12个月左右签发签证。加拿大宪法规定，移民事务由联邦政府和省政府共同管辖，省提名项目必须由联邦政府发放移民签证并最终成为加拿大永久居民。，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介", //项目简介
    details: "项目详情", //项目详情
    country: "加拿大", //国家
    countryId: "1", //国家代码
    type: "技术移民", //类别
    typeId: "1", //类别
    timespan: 2, //处理周期
    timespanUnit: "年", //处理周期 单位
    cost: 2.5, //费用
    costUnit: "万元", //费用单位
    //加拿大技术移民的费用在人民币2.5万左右（三口之家，主申本科学历，副申不做学历认证，汇率按5.0计算的情况下）
  },
  {
    //项目列表页（8）
    code: "", //项目代码
    id: "2-6", //项目id
    name: "加拿大联邦技术移民", //项目名称
    desc: "加拿大联邦技术移民项目（the Federal Skilled Worker Program，“FSW”）即为申请者向加拿大联邦政府递交技术移民申请，由联邦政府发放移民签证并最终成为加拿大永久居民的移民申请项目。，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介，加拿大联邦技术移民项目简介", //项目简介
    details: "项目详情", //项目详情
    country: "加拿大", //国家
    countryId: "1", //国家代码
    type: "技术移民", //类别
    typeId: "1", //类别
    timespan: 2, //处理周期
    timespanUnit: "年", //处理周期 单位
    cost: 2.5, //费用
    costUnit: "万元", //费用单位
    //加拿大技术移民的费用在人民币2.5万左右（三口之家，主申本科学历，副申不做学历认证，汇率按5.0计算的情况下）
  }
]

//国家
var country = [{
    key: "0",
    value: "全部"
  },
  {
    key: "1",
    value: "加拿大"
  },
  {
    key: "2",
    value: "澳大利亚"
  }
];


//项目类别：技术移民、投资移民、雇主担保移民
var projectType = [{
  key: "0",
  value: "全部"
}, {
  key: "1",
  value: "技术移民"
}, {
  key: "2",
  value: "投资移民"
}, {
  key: "3",
  value: "雇主担保移民"
}];


//周期
var timespan = [{
  key: "0",
  value: "全部"
}, {
  key: "1",
  value: "1年"
}, {
  key: "2",
  value: "2年"
}, {
  key: "3",
  value: "3年"
}, {
  key: "4",
  value: "4年"
}, {
  key: "5",
  value: "5年"
}];

$(function() {
  _app = new Vue({
    "el": '.main',
    "data": {
      "list1": list,
      "country": country,
      "projectType": projectType,
      "timespan": timespan,
      "selected": {
        "country": 0,
        "projectType": 0,
        "timespan": 0
      }
    },
    mounted: function() {
      for (var i = 0; i < this.list1.length; i++) {
        if (this.list1[i].desc.length > 140) {
          this.list1[i].desc = this.list1[i].desc.substring(0, 140);
        }
      }
    },
    computed: {},
    methods: {
      search: function(e) {
        var t = $(e.target).parent().attr("t");
        var index = $(e.target).index();
        this.selected[t] = index;
        var _this = this;
        this.list = list.filter(function(cv, index, arr) {
          var mapping = {
            "country": "countryId",
            "projectType": "typeId",
            "timespan": "timespan"
          }
          var rv = [];
          for (var item in _this.selected) {
            var selIndex = _this.selected[item];
            if (selIndex != 0) {
              rv.push(_this[item][selIndex].key == cv[mapping[item]]);
            }
          }
          return rv.every(function(cv) {
            return cv;
          });
        });
      },
      beforeEnter: function(el) {
        el.style.opacity = 0;
        el.style.marginLeft = "100%";
      },
      enter: function(el, done) {
        var delay = parseInt(el.dataset.index) * 500;
        setTimeout(function() {
          Velocity(
            el, {
              opacity: 1,
              marginLeft: 0
            }, {
              complete: done
            }
          )
        }, delay)
      },
      leave: function(el, done) {
        Velocity(
          el, {
            opacity: 0,
            marginLeft: "-100%"
          }, {
            complete: done
          }
        );
      }
    }
  });
});
